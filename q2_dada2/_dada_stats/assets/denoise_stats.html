{% extends "tab-child.html" %}

{% block content %}
    <table class="table table-striped table-hover" id="denoised_table">
        <thead>
        <tr>
            <th>Sample ID</th>
            <th data-tsorter="numeric">Input Reads</th>
            <th data-tsorter="numeric">Filtered Reads</th>
            <th data-tsorter="numeric">Percentage of Input Passed Filter</th>
            <th data-tsorter="numeric">Denoised</th>
            {% if paired_or_not == True %}
            <th data-tsorter="numeric">Merged</th>
            <th data-tsorter="numeric">Percentage of Input Merged</th>
            {% endif %}
            <th data-tsorter="numeric">Non-Chimeric</th>
            <th data-tsorter="numeric">Percentage of Input Non-Chimeric</th>
        </tr>
        </thead>
        <tbody>
        {% for keyer in denoised_keys %}
        <tr>
            <td>{{ keyer }}</td>
            {% if keyer in denoised_data%}
            <td>{{ denoised_data[keyer].input | int }}</td>
            <td>{{ denoised_data[keyer].filtered | int }}</td>
            <td>{{ denoised_data[keyer].per_of_filt | round(2, 'common') }}</td>
            <td>{{ denoised_data[keyer].denoised | int }}</td>
            {% if paired_or_not == True %}
                <td>{{ denoised_data[keyer].merged| int }}</td>
                <td>{{ denoised_data[keyer].per_input_merged | round(2, 'common') }}</td>
            {% endif %}
            <td>{{ denoised_data[keyer].non_chim | int }}</td>
            <td>{{ denoised_data[keyer].per_of_non_chim | round(2, 'common') }}</td>
            {% else %}
            <td>-</td>
            <td>-</td>
            {% endif %}
        </tr>
        {% endfor %}
        </tbody>
    </table>

    <script src="./js/tsorter.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      function init() {
        var sorter = tsorter.create('denoised_table');
      }
      window.onload = init;
    </script>
    <style media="screen">
      #seq_table th.descend:after{
        content: "\25B2";
      }
      #seq_table th.ascend:after{
        content: "\25BC";
      }
    </style>

{% endblock %}

